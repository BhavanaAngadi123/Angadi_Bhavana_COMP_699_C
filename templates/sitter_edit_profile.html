<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Edit Sitter Profile</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #a1c4fd, #c2e9fb);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

.card {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    width: 100%;
    max-width: 700px;
    padding: 30px;
}

.card h3 {
    font-weight: 700;
    text-align: center;
    margin-bottom: 25px;
    color: #4a90e2;
}

.form-control {
    border-radius: 10px;
    border: 2px solid #e0e0e0;
    transition: all 0.3s;
}
.form-control:focus {
    border-color: #4a90e2;
    box-shadow: 0 0 10px rgba(74,144,226,0.3);
}

.btn-primary {
    background: linear-gradient(90deg, #4a90e2, #357abd);
    border: none;
    border-radius: 10px;
    padding: 12px 25px;
    font-weight: 600;
    transition: all 0.3s;
}
.btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}

.avatar-preview {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid #4a90e2;
    margin-bottom: 10px;
}

.alert { border-radius: 12px; }
</style>
</head>
<body>

<div class="card">
    <h3>Edit Your Profile</h3>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST" enctype="multipart/form-data">
        <!-- PROFILE IMAGE -->
        <div class="text-center mb-3">
            {% if sitter.profile_image %}
                <img src="{{ url_for('static', filename='uploads/' + sitter.profile_image) }}" class="avatar-preview">
            {% else %}
                <img src="{{ url_for('static', filename='images/default-avatar.png') }}" class="avatar-preview">
            {% endif %}
            <input type="file" name="profile_image" class="form-control mt-2">
        </div>

        <!-- NAME -->
        <div class="mb-3">
            <label class="form-label">Full Name</label>
            <input type="text" class="form-control" name="name" value="{{ sitter.name }}" required>
        </div>

        <!-- EMAIL -->
        <div class="mb-3">
            <label class="form-label">Email</label>
            <input type="email" class="form-control" name="email" value="{{ sitter.email }}" required>
        </div>

        <!-- PHONE -->
        <div class="mb-3">
            <label class="form-label">Phone</label>
            <input type="text" class="form-control" name="phone" value="{{ sitter.phone }}">
        </div>

        <!-- SERVICE TYPES -->
        <div class="mb-3">
            <label class="form-label">Service Types</label><br>
            {% for s in ['boarding', 'walking', 'daycare'] %}
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="service_types" value="{{ s }}" 
                    {% if s in sitter.service_types %}checked{% endif %}>
                    <label class="form-check-label">{{ s.capitalize() }}</label>
                </div>
            {% endfor %}
        </div>

        <!-- PRICING -->
        <div class="mb-3">
            <label class="form-label">Pricing Details</label>
            <input type="text" class="form-control" name="pricing" value="{{ sitter.pricing }}">
        </div>

        <!-- ID DOCUMENT -->
        <div class="mb-3">
            <label class="form-label">ID Document</label>
            <input type="file" name="id_document" class="form-control">
        </div>

        <!-- SELFIE WITH ID -->
        <div class="mb-3">
            <label class="form-label">Selfie with ID</label>
            <input type="file" name="selfie_with_id" class="form-control">
        </div>

        <button type="submit" class="btn btn-primary w-100 mt-3">Update Profile</button>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
