{% extends "base.html" %}
{% block content %}

<style>
  body { 
    font-family: 'Poppins', sans-serif;
  }

  h2 { 
    color: #333; 
    margin-bottom: 30px; 
    text-align:center; 
  }

  .card { 
    border-radius: 15px; 
    box-shadow: 0 5px 20px rgba(0,0,0,0.2); 
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .card:hover {
    transform: translateY(-8px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.3);
  }

  .btn-custom { 
    background:#ff6f61; 
    color:white; 
    border:none; 
    border-radius: 25px;
    padding: 8px 18px;
    transition: 0.3s;
  }

  .btn-custom:hover { 
    background:#e55347; 
    color: #fff;
  }

  .back-btn {
    margin-bottom: 20px;
  }

  .card-img-top {
    height: 180px;
    object-fit: cover;
    border-radius: 10px;
  }

  .card-text {
    font-size: 0.95rem;
    color: #333;
  }

  @media (max-width: 768px) {
    .card-img-top { height: 150px; }
  }
</style>

<div class="container">
  <h2>Your Products</h2>

  <div class="d-flex justify-content-between mb-4">
    <a href="{{ url_for('seller.dashboard') }}" class="btn btn-secondary back-btn">‚Üê Back to Dashboard</a>
    <a href="{{ url_for('seller.add_product') }}" class="btn btn-custom">Add New Product</a>
  </div>

  <div class="row g-4">
    {% for product in products %}
    <div class="col-md-4">
      <div class="card p-3">
        {% if product.image %}
        <img src="{{ url_for('static', filename='uploads/' ~ product.image) }}" class="card-img-top" alt="{{ product.name }}">
        {% else %}
        <img src="{{ url_for('static', filename='default_product.jpg') }}" class="card-img-top" alt="{{ product.name }}">
        {% endif %}
        <div class="card-body">
          <h5 class="card-title">{{ product.name }}</h5>
          <p class="card-text">{{ product.description }}</p>
          <p><b>Price:</b> ${{ product.price }}</p>
          <p><b>Stock:</b> {{ product.stock }}</p>
          <div class="d-flex gap-2">
            <a href="{{ url_for('seller.edit_product', id=product.id) }}" class="btn btn-sm btn-warning">Edit</a>
            <form action="{{ url_for('seller.delete_product', id=product.id) }}" method="POST" style="display:inline;">
              <button type="submit" class="btn btn-sm btn-danger">Delete</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}

    {% if products|length == 0 %}
      <p class="text-center mt-4">No products found.</p>
    {% endif %}
  </div>
</div>

{% endblock %}
